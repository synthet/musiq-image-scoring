# ðŸŽ¨ MUSIQ Image Quality Gallery

An interactive HTML gallery for browsing and analyzing your images based on MUSIQ quality scores.

## Features

### ðŸ“Š Multiple Sorting Options
- **Final Robust Score** - Combined weighted, median, and trimmed mean scores
- **Weighted Score** - Model-weighted average (KONIQ: 35%, SPAQ: 30%, PAQ2PIQ: 25%, AVA: 10%)
- **Median Score** - Robust to outliers
- **Average Normalized Score** - Simple average of all model scores
- **Individual Model Scores** - SPAQ, AVA, KONIQ, PAQ2PIQ
- **Filename** - Alphabetical sorting
- **Date** - Chronological sorting

### ðŸŽ¯ Interactive Features
- **Dropdown Sorting** - Switch between different quality metrics
- **Ascending/Descending** - Choose sort order
- **Click to Enlarge** - Full-size image viewing
- **Responsive Design** - Works on desktop and mobile
- **Real-time Statistics** - Live updates based on current sort

### ðŸ“ˆ Statistics Display
- Total number of images
- Average score for current metric
- Best and worst scores
- Score range analysis

## How to Use

### Opening the Gallery
1. **Windows Batch**: Double-click `open_gallery.bat`
2. **PowerShell**: Run `Open-Gallery.ps1`
3. **Manual**: Open `D:\Photos\Export\2025\image_gallery.html` in your browser

### Sorting Images
1. Use the **"Sort by"** dropdown to select a quality metric
2. Use the **"Order"** dropdown to choose ascending or descending
3. Images will automatically re-sort and statistics will update

### Viewing Images
- Click any image card to view it full-size
- Click outside the image or the X to close the modal
- Use the gallery to browse through your best shots

## File Structure

```
D:\Photos\Export\2025\
â”œâ”€â”€ image_gallery.html          # Main gallery interface
â”œâ”€â”€ image_data.json            # Image data and scores
â”œâ”€â”€ *.jpg                      # Your images
â”œâ”€â”€ *.json                     # Individual image scores
â””â”€â”€ clusters/                  # Best images from each cluster
```

## Data Requirements

The gallery requires:
- `image_data.json` - Generated by `generate_gallery_data.py`
- Image files in the same directory
- JSON score files for each image

## Regenerating Data

If you add new images or update scores, regenerate the data:

```bash
# In WSL or Linux
python generate_gallery_data.py

# Or from the project directory
wsl bash -c "source ~/.venvs/tf/bin/activate && cd /mnt/d/Projects/image-scoring && python generate_gallery_data.py"
```

## Score Interpretation

### Quality Ranges
- **0.8+**: Excellent quality
- **0.7-0.8**: Very good quality  
- **0.6-0.7**: Good quality
- **0.5-0.6**: Average quality
- **0.4-0.5**: Below average
- **<0.4**: Poor quality

### Model Characteristics
- **SPAQ**: Smartphone photography aesthetics (0-100 range)
- **AVA**: Aesthetic visual analysis (1-10 range, most conservative)
- **KONIQ**: Natural image quality (0-100 range, most balanced)
- **PAQ2PIQ**: Perceptual quality assessment (0-100 range, most lenient)

## Troubleshooting

### Images Not Loading
- Ensure image files are in the same directory as the HTML file
- Check that image paths in `image_data.json` are correct
- Verify file permissions

### No Data Displayed
- Run `generate_gallery_data.py` to create `image_data.json`
- Ensure JSON score files exist for your images
- Check browser console for JavaScript errors

### Performance Issues
- Large galleries (1000+ images) may load slowly
- Consider using the clustering feature to reduce image count
- Use browser zoom to adjust image card sizes

## Browser Compatibility

- **Chrome/Edge**: Full support
- **Firefox**: Full support  
- **Safari**: Full support
- **Mobile browsers**: Responsive design supported

## Customization

The gallery can be customized by editing `image_gallery.html`:
- Modify CSS for different styling
- Add new sorting metrics
- Change image card layout
- Adjust responsive breakpoints

## Version History

- **v1.0**: Initial release with basic sorting and display
- **v2.0**: Added advanced scoring metrics and interactive features
